\section{Monoid homomorphisms and congruence relations}

\begin{definition}[monoid homomorphism]
A {\bf monoid homomorphism} (short: homomorphism) from a monoid $M$ to a monoid
$S$ is a mapping $\Phi : M \to S$ with the following properties:
\begin{enumerate}
  \item $\Phi(m_1 \cdot m_2) = \Phi(m_1) \cdot \Phi(m_2), \quad m_1, m_2 \in M$
  \item $\Phi(1_M) = 1_S$
\end{enumerate}
\end{definition}

It can be easily shown: if $M_1 \subset M$ is a submonoid of $M$, then
$\Phi(M_1)$ is a submonoid of $S$. If $S_1$ is a submonoid of $S$, then
$\Phi^{-1}(S_1)$ is a submonoid of $M$.

A monoid homomorphism $\Phi : M \to S$ is called
\begin{description}
  \item[monomorphism] if $\Phi$ is injective
  \item[epimorphism] if $\Phi$ is surjective
  \item[isomorphism] if $\Phi$ is bijective
\end{description}

Homomorphisms $\Phi : M \to M$ are called {\bf endomorphisms}, isomorphisms
$\Phi : M \to M$ are called {\bf automorphisms}.

Monoids $M$ and $S$ are called {\bf isomorphic}, if there exists an
isomorphism between $M$ and $S$.

Of course, a homomorphism cannot be defined arbitrarily on a monoid $M$.
Thus the following two questions arise:
\begin{enumerate}
  \item If $M_1 \subset M$ is a submonoid and $\Phi_1 : M_1 \to S$ is an arbitrary
mapping. When is it possible to extend $\Phi_1$ to a homomorphism $\Phi
: M \to S$\ ?
	\item If $\Phi_1, \Phi_2$ both are homomorphisms from $M$ to $S$ which
	coincide on $M_1 \subset M$. In which way can $\Phi_1$ and $\Phi_2$ be
	different? 
\end{enumerate}

The answer to this question of course depends on the structure of $M_1$. If
$M_1 = \{ 1_M \}$ then $\Phi$ is determined uniquely on $M_1$ but there is
little information on the relation between $\Phi_1$ and $\Phi2$.

The following two simple theorems which can be found in introductory algebra
books are holding:
\begin{enumerate}
  \item If $M_1$ is a generating system of $M$ and $\Phi_1, \Phi_2 : M \to S$
  both are monoid homomorphisms which coincide on $M_1$, then $\Phi1 = \Phi_2$.
  \item If $A$ is a set and $M = A^*$, and $\Phi_1 : A \to S$ is an arbitrary
  mapping, then there exists exactly one continuation $\Phi$ from $\Phi_1$ which
  is a monoid homomorphism from $A^*$ to $S$.
\end{enumerate}

\begin{definition}[free generating system, free monoid]
A subset $A \subset M$ is called a {\bf free generating system} of $M$, if each
mapping $\Phi_1 : A \to S$, where $S$ is an arbitrary monoid, can be continued
to a monoid homomorphims in a unique way. A monoid with a free generating system
is called a {\bf free monoid}.
\end{definition}

$A^*$ therefore is a free monoid and $A$ is a free generating system of $A^*$.

It holds also: If $A$ is a free generating system of $M$ and $A^*$ is the monoid
of words (string) over $A$, then $A^*$ and $M$ are isomorphic.

A free monoid has at most one free generating system. From that we can see that
the length $|w|$ of a word $w \in A^*$ can be defined in a unique way for any
free monoid.

The length mapping $L$ is an example for a monoid homomorphism $L : A^* \to
\mathbb{N}$.

If $\Phi : M \to S$ is a monoid homomorphism, then the sets 
\[\{ \Phi^{-1}(s) \mid s \in S \} \subset Pot(M)\]
form a monoid isomorphic to $\Phi(M)$.

We want to handle now the following question:

Let $M$ be a monoid, $L \subset M$ be any subset of $M$. Does there exist a
monoid $S$ and a homomorphism $\Phi : M \to S$ with the following property:
There exists an $s \in S$ with $L \subset \Phi^{-1}(s)$?

Of course, there always exists such an $S$: Choose $S = \{1\}$ and $\Phi(M) =
\{1\}$.

Therefore we strengthen our task: Find $S$ and $\Phi$ such that $L \subset
\Phi^{-1}(S)$ and for each other homomorphism $\Psi$ with that property holds:
$L \subset \Psi^{-1}(S') \Rightarrow \Phi^{-1}(S) \subset \Psi^{-1}(S')$.

We want to describe $L$ as close as possible by a monoid homomorphism.

Such an $S$ and $\Phi$ exists for each $L \subset M$ (see Algebra text), it is
named $synt_M(L)$ an is constructed as follows:

\begin{definition}[syntactic congruence]
Let $M$ be a monoid and $L \subset M$. For $a, b \in M$ we define
\[ a \equiv b\ (L) \Leftrightarrow \mbox{for all}\ u, v \in M: u \cdot a \cdot v
\in L \Leftrightarrow u \cdot b \cdot v \in L
\]
\end{definition}

$\equiv (L)$ is a congruence relation, it holds:
\begin{enumerate}
  \item Let $[a]_L = \{ b \in M \mid a \equiv b\ (L) \}$\ then\ $b \in [a]_L
  \Rightarrow [a]_L = [b]_L $
  \item If we define $[a]_L \cdot [b]_L := [a b]_L$\ (complex product), then
  \[synt_M(L) = \{ [a]_L \mid a \in M \}\] becomes a monoid and the mapping
  \[\Psi_L : M \to synt_M(L),\ \Psi_L(a) = [a]_L\]
   is a monoid epimorphism.
\end{enumerate}

We call $\equiv (L)$ the {\bf syntactic congruence} of $L$ and $synt_M(L)$ the
{\bf syntactic monoid} of $L$ wrt. $M$.

To motivate the name ''syntactic monoid'' we give an example from German
language.
Let $A$ be the alphabet of German and $L$ the set of sentences in German. One can
denote two words $w_1$ and $w_2$ as congruent if they can always be exchanged in
each german sentence. There exist words that cannot always be exchanged. In the
sentence ''Apfel ist eine Kernfrucht'' the word ''Apfel'' can be exchanged by
''Birne'' but this is not possible in the sentence ''Apfel schreibt sich A p f e
l''.

The difficulty is of semantic nature. If you don't consider semantic correctness
of sentences you get a classification of words wrt. their syntactic meaning.

The important notion of ''syntactic congruence'' has been introduced by M. P.
Sch√ºtzenberger in the context of coding problems.
